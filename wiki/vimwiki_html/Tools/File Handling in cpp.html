<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css" />
    <title>File Handling in cpp</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> 
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        body {
            background-image: url('../Images/old_wiki.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            margin: 0;
            font-family: Arial, sans-serif;
            padding: 3cm; /* Add 3cm padding on all sides */
        }

        #content {
            color: #333;
            font-size: 16px;
            line-height: 1.6;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.5);
        }

        /* Mobile Styles */
        @media only screen and (max-width: 600px) {
            body {
                padding: 1cm; /* Adjust padding for smaller screens */
            }

            #content {
                padding: 10px; /* Adjust padding for smaller screens */
            }
        }
    </style>
</head>
<body>
    <div id="content">
        
<div id="Contents" class="toc"><h1 id="Contents" class="header"><a href="#Contents">Contents</a></h1></div>
<ul>
<li>
<a href="File Handling in cpp.html#Introduction">#Introduction</a>

<ul>
<li>
<a href="File Handling in cpp.html#Using cin and cout:">#Using cin and cout:</a>

<li>
<a href="File Handling in cpp.html#Using Files for reading and writing">#Using Files for reading and writing</a>

<ul>
<li>
<a href="File Handling in cpp.html#Writing to file">#Writing to file</a>

<ul>
<li>
<a href="File Handling in cpp.html#Program 1">#Program 1</a>

<li>
<a href="File Handling in cpp.html#Program 2">#Program 2</a>

<li>
<a href="File Handling in cpp.html#Program 3 (appending)">#Program 3 (appending)</a>

<li>
<a href="File Handling in cpp.html#Closing file">#Closing file</a>

<li>
<a href="File Handling in cpp.html#Taking File Name from User">#Taking File Name from User</a>

</ul>
<li>
<a href="File Handling in cpp.html#Reading from file">#Reading from file</a>

<ul>
<li>
<a href="File Handling in cpp.html#Program (reding by char, word, lines)">#Program (reding by char, word, lines)</a>

</ul>
</ul>
</ul>
</ul>
<div id="Introduction"><h1 id="Introduction" class="header"><a href="#Introduction">Introduction</a></h1></div>

<p>
In this section we will discuss how to take input from files and write to files using c++. <br />
</p>

<div id="Introduction-Using cin and cout:"><h2 id="Using cin and cout:" class="header"><a href="#Introduction-Using cin and cout:">Using cin and cout:</a></h2></div>

<ul>
<li>
These are objects of class std::istream and std::ostream respectively.

<li>
Once we write to console the whole bunch of input goes to buffer memory, upon pressing enter key, the input keywords enter to program and buffer becomes empty.

<li>
"string of input"-------------------&gt; Buffer Memory(which appears in console what we enter) -----------------------&gt;Program

<li>
Use of cin and cout requires : <code>#include&lt;iostream&gt; </code>

</ul>
<div id="Introduction-Using Files for reading and writing"><h2 id="Using Files for reading and writing" class="header"><a href="#Introduction-Using Files for reading and writing">Using Files for reading and writing</a></h2></div>

<ol>
<li>
Instead of using objects of <code>std::istream (cin)</code> and <code>std::ostream (cout)</code> we can use objects of class <code>std::ifstream (input)</code> and <code>std::ofstream (output)</code>

<li>
We can define our input and output objects and name them anything.

<li>
This requires inclusion of <code>#include&lt;fstream&gt;</code>

</ol>
<div id="Introduction-Using Files for reading and writing-Writing to file"><h3 id="Writing to file" class="header"><a href="#Introduction-Using Files for reading and writing-Writing to file">Writing to file</a></h3></div>

<div id="Introduction-Using Files for reading and writing-Writing to file-Program 1"><h4 id="Program 1" class="header"><a href="#Introduction-Using Files for reading and writing-Writing to file-Program 1">Program 1</a></h4></div>
<pre cpp>

#include&lt;fstream&gt;
#include&lt;vector&gt;

	int main(){
	std::ofstream file;
	file.open("name_of_file.txt");
	std::vector&lt;std::string&gt; vec;
	vec.push_back("first line");
	vec.push_back("second line");
	vec.push_back("third line");

	for (int i=0;i&lt;vec.size();i++)
	{
		file&lt;&lt;vec[i]&lt;&lt;std::endl;
	}
	return 0;
	}


</pre>

<div id="Introduction-Using Files for reading and writing-Writing to file-Program 2"><h4 id="Program 2" class="header"><a href="#Introduction-Using Files for reading and writing-Writing to file-Program 2">Program 2</a></h4></div>
<pre cpp>

#include&lt;fstream&gt;
#include&lt;vector&gt;

	int main(){
	std::ofstream file;
	file.open("name_of_file.txt");
	std::vector&lt;std::string&gt; vec;
	vec.push_back("first line");
	vec.push_back("second line");
	vec.push_back("third line");

	for (std::string line:vec)
	{
		file&lt;&lt;line&lt;&lt;std::endl;
	}
	return 0;
	}


</pre>


<div id="Introduction-Using Files for reading and writing-Writing to file-Program 3 (appending)"><h4 id="Program 3 (appending)" class="header"><a href="#Introduction-Using Files for reading and writing-Writing to file-Program 3 (appending)">Program 3 (appending)</a></h4></div>
<p>
Above code will write 3 lines to the file, in order to append the file each time we open it, we can just add: <br />
<code>file.open("file_name.txt", std::ios::app);</code><br />
</p>

<pre cpp>


#include&lt;fstream&gt;
#include &lt;iostream&gt;
#include&lt;vector&gt;

	int main(){
	std::ofstream file;
	file.open("Fileof_appending.txt",std::ios::app);
	if (file.is_open()){
		std::cout&lt;&lt;"file is open"&lt;&lt;std::endl;
	}
	std::vector&lt;std::string&gt; vec;
	vec.push_back("first line");
	vec.push_back("second line");
	vec.push_back("third line");

	for (std::string line:vec)
	{
		file&lt;&lt;line&lt;&lt;std::endl;
	}
	file.close();
	if (file.is_open()){
		std::cout&lt;&lt;"file is open"&lt;&lt;std::endl;
	}
	else{std::cout&lt;&lt;"file is close"&lt;&lt;std::endl;}
	return 0;
	}


</pre>

<div id="Introduction-Using Files for reading and writing-Writing to file-Closing file"><h4 id="Closing file" class="header"><a href="#Introduction-Using Files for reading and writing-Writing to file-Closing file">Closing file</a></h4></div>

<p>
In C++, it's essential to close files after you're done working with them to free up system resources and ensure that any changes made to the file are properly flushed and saved. If you don't close a file explicitly, the operating system may eventually close it when your program terminates, but relying on this is not a good practice. Here's why closing files is important:<br />
</p>

<ol>
<li>
*<span id="Introduction-Using Files for reading and writing-Writing to file-Closing file-Resource Management:"></span><strong id="Resource Management:">Resource Management:</strong>* Open files consume system resources, and not closing them can lead to resource leaks. The operating system may have limits on the number of open file handles a process can have, and failing to close files could result in your program reaching these limits.

<li>
*<span id="Introduction-Using Files for reading and writing-Writing to file-Closing file-Flushing Buffers:"></span><strong id="Flushing Buffers:">Flushing Buffers:</strong>* When writing to a file, data is often buffered in memory before being physically written to the file. Closing the file ensures that any buffered data is flushed and written to the file. If you don't close the file, some data may remain in the buffer and not be saved.

<li>
*<span id="Introduction-Using Files for reading and writing-Writing to file-Closing file-Consistency:"></span><strong id="Consistency:">Consistency:</strong>* Closing files explicitly promotes code clarity and ensures that the state of the file is consistent. If you open a file, perform operations, and then close it, you explicitly control when the file is accessed, modified, or closed.

</ol>
<p>
Here's a simple example in C++ to illustrate opening, writing to, and closing a file:<br />
</p>

<pre cpp>
#include &lt;iostream&gt;
#include &lt;fstream&gt;

int main() {
    std::ofstream outputFile("example.txt");

    if (outputFile.is_open()) {
        outputFile &lt;&lt; "Hello, World!\n";
        // Other file operations...

        outputFile.close();  // Close the file explicitly
    } else {
        std::cerr &lt;&lt; "Unable to open the file.\n";
    }

    return 0;
}
</pre>

<p>
In this example, <code>outputFile.close()</code> is used to close the file explicitly after writing to it. Always ensure that you close files after you finish using them to avoid potential issues with resource management and data consistency.<br />
</p>

<div id="Introduction-Using Files for reading and writing-Writing to file-Taking File Name from User"><h4 id="Taking File Name from User" class="header"><a href="#Introduction-Using Files for reading and writing-Writing to file-Taking File Name from User">Taking File Name from User</a></h4></div>
<pre cpp>
#include&lt;iostream&gt;
#include&lt;fstream&gt;
#include&lt;vector&gt;

	int main(){

	std::string filename;
	std::cout&lt;&lt;"enter file name"&lt;&lt;std::endl;
	std::cin&gt;&gt;filename;
	std::ofstream file(filename, std::ios::app);
	
	std::vector&lt;std::string&gt; vec;
	vec.push_back("first line");
	vec.push_back("second line");
	vec.push_back("third line");

	for (std::string line:vec)
	{
		file&lt;&lt;line&lt;&lt;std::endl;
	}
	file.close();
	if (file.is_open()){
		std::cout&lt;&lt;"file is open"&lt;&lt;std::endl;
	}
	else{std::cout&lt;&lt;"file is close"&lt;&lt;std::endl;}
	
return 0;
}


</pre>

<div id="Introduction-Using Files for reading and writing-Reading from file"><h3 id="Reading from file" class="header"><a href="#Introduction-Using Files for reading and writing-Reading from file">Reading from file</a></h3></div>
<ol>
<li>
cin is object of class std::istream, similerly we need to create an object of class std::ifstream, which we can do so by: 

</ol>
<p>
<code>std::ifstream fin;</code>, we can name it anyting, (fin, or input, or fileinput). <br />
</p>

<div id="Introduction-Using Files for reading and writing-Reading from file-Program (reding by char, word, lines)"><h4 id="Program (reding by char, word, lines)" class="header"><a href="#Introduction-Using Files for reading and writing-Reading from file-Program (reding by char, word, lines)">Program (reding by char, word, lines)</a></h4></div>
<pre cpp>

#include&lt;fstream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include&lt;iostream&gt;
using std::endl;
using std::cout;
using std::cin;
using std::vector;
using std::string;
int main(){

std::string filename;
cout&lt;&lt;"enter file name to read it"&lt;&lt;endl;
cin&gt;&gt;filename;

std::ifstream fin(filename);

int choice;
cout&lt;&lt;"enter 0 to read character by character or 1 to read word by word, or 2 to read line by line"&lt;&lt;endl;
cin&gt;&gt;choice;

if (choice==0)
{
	vector&lt;char&gt; charArray;
	char input;

	while(fin&gt;&gt;input)
	{
		charArray.push_back(input);
	}

	for(char input:charArray)
	{
		cout&lt;&lt;input&lt;&lt;endl;
	}
	// or you can simply use fin.get() to get first letter of line
	/* char ch; */

    /* // Read characters from the file using get() */
    /* while (fin.get(ch)) { */
        /* // Process the character as needed */
        /* std::cout &lt;&lt; "Read character: " &lt;&lt; ch &lt;&lt; std::endl; */
    /* } */

    fin.close();	
	
}

else if(choice==1)
{
	string input;
	vector&lt;string&gt; wordArray;
	while(fin&gt;&gt;input)
	{
		wordArray.push_back(input);
		//cout&lt;&lt;input&lt;&lt;endl; // we can directly print it here, rather than storing to a vector and printing it.

	}
	for(string letter : wordArray)
	{
		cout&lt;&lt;letter&lt;&lt;endl;
	}
fin.close();

}
else if(choice==2)
{
	string line;
	vector&lt;string&gt; lineArray;
	while(std::getline(fin,line))
	{
		lineArray.push_back(line);
	}
	for(std::string line:lineArray)
	{
		cout&lt;&lt;line&lt;&lt;endl;
	}

fin.close();
}
return 0;
}



</pre>

    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script type="text/javascript">
        document.querySelectorAll('pre').forEach(block => hljs.highlightBlock(block));
    </script>
</body>
</html>

